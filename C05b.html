<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C05b 打磚塊遊戲2（進階版）- Scratch教學</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            margin-top: 20px;
            margin-bottom: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .header {
            text-align: center;
            padding: 30px 0;
            background: linear-gradient(135deg, #ff6b6b 0%, #4ECDC4 100%);
            color: white;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .nav-menu {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: center;
        }

        .nav-menu a {
            color: #667eea;
            text-decoration: none;
            margin: 0 15px;
            padding: 8px 16px;
            border-radius: 20px;
            transition: all 0.3s ease;
            display: inline-block;
        }

        .nav-menu a:hover {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
        }

        .chapter {
            margin-bottom: 40px;
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            border-left: 5px solid #667eea;
        }

        .chapter h2 {
            color: #667eea;
            font-size: 1.8em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #eee;
        }

        .chapter h3 {
            color: #764ba2;
            font-size: 1.4em;
            margin-top: 25px;
            margin-bottom: 15px;
        }

        .concept-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .concept-box h4 {
            font-size: 1.3em;
            margin-bottom: 10px;
        }

        .step {
            background: white;
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .step h4 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .info {
            background: #cce7ff;
            border: 1px solid #99d6ff;
            color: #004085;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .game-demo {
            background: #f1f3f4;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            border: 2px dashed #667eea;
        }

        .game-demo h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .homework {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
        }

        .homework h3 {
            color: #721c24;
            margin-bottom: 15px;
        }

        .homework-item {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #ff6b6b;
        }

        .back-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #667eea;
            color: white;
            padding: 10px 15px;
            border-radius: 50px;
            text-decoration: none;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
        }

        .back-to-top:hover {
            background: #764ba2;
            transform: translateY(-3px);
        }

        .footer {
            background: #2d3748;
            color: white;
            text-align: center;
            padding: 20px;
            border-radius: 10px;
            margin-top: 40px;
        }

        ul, ol {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        li {
            margin-bottom: 5px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }

        th {
            background: #667eea;
            color: white;
            font-weight: bold;
        }

        /* Scratch 積木樣式 */
        .blocks {
            display: flex;
            gap: 14px;
            flex-wrap: wrap;
            margin: 14px 0;
        }
        
        .block {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 12px;
            min-height: 38px;
            border-radius: 14px;
            font-weight: 600;
            letter-spacing: .2px;
            border: 2px solid rgba(0,0,0,.15);
            text-shadow: 0 1px 0 rgba(0,0,0,.18);
            box-shadow: 0 6px 0 rgba(0,0,0,.22), 0 2px 12px rgba(0,0,0,.15);
            user-select: none;
            color: white;
        }
        
        .block span.arg {
            background: rgba(255,255,255,.17);
            padding: 4px 8px;
            border-radius: 10px;
            font-weight: 800;
            box-shadow: inset 0 1px 2px rgba(0,0,0,.2);
        }
        
        .hat {
            border-radius: 18px 18px 12px 12px;
            position: relative;
        }
        
        .hat::before {
            content: "";
            position: absolute;
            left: 10px;
            right: 10px;
            top: -12px;
            height: 12px;
            background: inherit;
            border-top-left-radius: 14px;
            border-top-right-radius: 14px;
            border: 2px solid rgba(0,0,0,.15);
            border-bottom: none;
        }
        
        .c-block {
            padding-bottom: 14px;
        }
        
        .c-block .substack {
            margin-top: 10px;
            background: rgba(0,0,0,.12);
            padding: 12px;
            border-radius: 12px;
            min-width: 280px;
            border: 2px dashed rgba(0,0,0,.18);
        }
        
        .cap {
            border-bottom-left-radius: 18px;
            border-bottom-right-radius: 18px;
        }
        
        .comment {
            font-size: 13px;
            color: #6c757d;
            margin: 4px 0 0 6px;
        }
        
        .events { background: #FFBF00; color: #332200; }
        .control { background: #FFAB19; color: #3a2200; }
        .motion { background: #4C97FF; }
        .looks { background: #9966FF; }
        .sound { background: #D65CD6; }
        .sensing { background: #5CB1D6; }
        .operators { background: #59C059; color: #003b00; }
        .variables { background: #FF8C1A; color: #3a1a00; }
        .myblocks { background: #FF6680; }

        .sprite-tag {
            display: inline-block;
            background: #9966FF;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9em;
            margin: 5px;
            font-weight: bold;
        }

        .reflection-demo {
            background: #f8f9fa;
            border: 2px solid #667eea;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        .reflection-demo h4 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .angle-formula {
            background: #e8f5e8;
            border: 2px solid #4CAF50;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            text-align: center;
            font-size: 1.2em;
            font-weight: bold;
        }

        .link-section {
            background: #f8f9fa;
            border: 2px solid #667eea;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .link-section h4 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .link-item {
            background: white;
            padding: 10px 15px;
            margin: 5px 0;
            border-radius: 5px;
            border-left: 4px solid #667eea;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .link-item a {
            color: #667eea;
            text-decoration: none;
            font-weight: 500;
        }

        .link-item a:hover {
            text-decoration: underline;
        }

        .link-item .description {
            color: #6c757d;
            font-size: 0.9em;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .nav-menu a {
                display: block;
                margin: 5px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🎮 C05b 打磚塊遊戲2（進階版）</h1>
            <p>反彈角度、得分/過關、角色顯示/隱藏、速度控制等進階功能</p>
            
            <div class="concept-box" style="margin-top: 20px; background: rgba(255,255,255,0.2); border: 2px solid rgba(255,255,255,0.3);">
                <h3>📥 下載連結（保持原檔名不改）</h3>
                <p><strong>基本程式檔：</strong></p>
                <p><a href="https://drive.google.com/file/d/14Qbd8YvHIIUsCULuEAaUJ_G2Lea-2wE-/view?usp=sharing" target="_blank" style="color: #fff; text-decoration: underline; font-weight: bold;">8xxxx-5b.sb3（Google Drive）</a></p>
                <p style="font-size: 0.9em; margin-top: 10px;">原檔說明：用滑鼠左鍵點選下載，檔名不要修改</p>
            </div>
        </div>

        <div class="nav-menu">
            <a href="#intro">課程概觀</a>
            <a href="#download">檔案與連結</a>
            <a href="#preparation">專案準備</a>
            <a href="#program">程式實作</a>
            <a href="#reflection">反射角教學</a>
            <a href="#challenges">進階挑戰</a>
            <a href="#homework">作業評量</a>
        </div>

        <div id="intro" class="chapter">
            <h2>📚 第一章：課程概觀</h2>
            
            <div class="concept-box">
                <h4>🎯 核心概念</h4>
                <ul>
                    <li>事件控制（綠旗、空白鍵）與背景切換</li>
                    <li>球拍追隨滑鼠、球的運動與「反射角＝180−θ」邏輯</li>
                    <li>碰撞偵測（球拍、磚塊、停止線）</li>
                    <li>計分、過關/失敗條件、顯示/隱藏控制</li>
                    <li>進階：32塊磚排版、速度變化、關卡設計思考題</li>
                </ul>
            </div>

            <h3>🎮 打磚塊遊戲進階版特色</h3>
            <div class="step">
                <h4>主要功能</h4>
                <ul>
                    <li><strong>反射角物理：</strong>實現真實的球體反彈物理效果</li>
                    <li><strong>32塊磚排版：</strong>8×4的完整磚塊陣列設計</li>
                    <li><strong>速度控制：</strong>根據得分動態調整球速</li>
                    <li><strong>關卡設計：</strong>多層次的遊戲挑戰</li>
                    <li><strong>角色管理：</strong>精確的顯示/隱藏控制</li>
                </ul>
            </div>

            <div class="game-demo">
                <h4>遊戲元素展示</h4>
                <p><strong>玩家控制：</strong>球拍（跟隨滑鼠移動）</p>
                <p><strong>遊戲目標：</strong>球（物理反彈運動）</p>
                <p><strong>破壞目標：</strong>磚塊（32塊8×4排列）</p>
                <p><strong>失敗條件：</strong>停止線（球落下判定）</p>
            </div>

            <div class="info">
                <strong>💡 學習重點：</strong>本課程將深入學習「物理反彈系統」、「碰撞偵測」、「遊戲狀態管理」和「進階關卡設計」等核心程式設計概念。
            </div>
        </div>

        <div id="download" class="chapter">
            <h2>📥 第二章：檔案與連結</h2>

            <h3>📋 基本程式檔下載</h3>
            <div class="step">
                <h4>下載連結</h4>
                <p><strong>基本程式檔：</strong><a href="https://drive.google.com/file/d/14Qbd8YvHIIUsCULuEAaUJ_G2Lea-2wE-/view?usp=sharing" target="_blank">8xxxx-5b.sb3（Google Drive）</a></p>
                <p><strong>檔名規範：</strong>下載後檔名<strong>不可加括號</strong>，否則扣5分</p>
            </div>

            <h3>📚 反射角補充閱讀</h3>
            <div class="link-section">
                <h4>相關教材連結</h4>
                <div class="link-item">
                    <div>
                        <a href="http://blog.ilc.edu.tw/blog/blog/1279/post/83251/636519" target="_blank">反射角示意（θ、180−θ 與 Scratch 方向）</a>
                        <div class="description">詳細的反射角物理概念說明</div>
                    </div>
                </div>
                <div class="link-item">
                    <div>
                        <a href="https://drive.google.com/a/gm.kl.edu.tw/file/d/1TARi1BKIk9QjK8FinQcd_2jtL-kgp3Kh/view?usp=drive_web" target="_blank">參考教材 1</a>
                        <div class="description">進階打磚塊教學資源</div>
                    </div>
                </div>
                <div class="link-item">
                    <div>
                        <a href="https://drive.google.com/a/gm.kl.edu.tw/file/d/1nn5Plyt-6pnM-_xbY4KYTnikA-WUa-Yi/view?usp=drive_web" target="_blank">參考教材 2</a>
                        <div class="description">額外學習材料</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="preparation" class="chapter">
            <h2>🛠️ 第三章：專案準備（變數／角色／舞台）</h2>

            <h3>📝 命名規範</h3>
            <div class="step">
                <h4>檔案命名</h4>
                <ul>
                    <li><strong>匯入老師基本檔：</strong>改名為 <code>8xxxx-5b.sb3</code></li>
                    <li><strong>繳交檔名：</strong>例如 <code>81760-5b.sb3</code></li>
                    <li><strong>注意：</strong>檔名不可加括號，否則扣5分</li>
                </ul>
            </div>

            <h3>🎭 角色設計</h3>
            <div class="step">
                <h4>必要角色</h4>
                <ul>
                    <li><strong>球拍：</strong>玩家控制，跟隨滑鼠移動</li>
                    <li><strong>球：</strong>主要遊戲元素，具備物理反彈</li>
                    <li><strong>磚塊：</strong>建議用「分身」量產，32塊8×4排列</li>
                    <li><strong>停止線：</strong>球落下判定</li>
                    <li><strong>文字/分數顯示：</strong>遊戲狀態顯示</li>
                </ul>
            </div>

            <h3>🔢 變數設計</h3>
            <div class="step">
                <h4>必要變數</h4>
                <ul>
                    <li><strong>得分：</strong>遊戲積分記錄</li>
                    <li><strong>速度：</strong>進階功能，球的移動速度</li>
                    <li><strong>列：</strong>可選，用於32塊磚定位</li>
                    <li><strong>行：</strong>可選，用於32塊磚定位</li>
                </ul>
            </div>

            <h3>🎨 舞台背景設計</h3>
            <div class="step">
                <h4>背景流程</h4>
                <ul>
                    <li><strong>遊戲說明：</strong>綠旗顯示說明畫面</li>
                    <li><strong>開始遊戲：</strong>按空白鍵切換到遊戲畫面</li>
                    <li><strong>闖關成功：</strong>達到目標分數時顯示</li>
                    <li><strong>闖關失敗：</strong>球碰到停止線時顯示</li>
                </ul>
            </div>
        </div>

        <div id="program" class="chapter">
            <h2>⚙️ 第四章：Scratch 程式實作</h2>

            <h3>🏠 (A) 舞台：背景與總控</h3>
            <div class="step">
                <h4>背景切換控制</h4>
                <div class="blocks">
                    <div class="block events hat">當 <span class="arg">綠旗</span> 被點擊</div>
                    <div class="block looks">切換背景到 <span class="arg">遊戲說明</span></div>
                    <div class="block variables">將 <span class="arg">得分</span> 設為 <span class="arg">0</span></div>
                    <div class="block looks">隱藏 <span class="arg">分數顯示器</span></div> <span class="comment">// 亦可直接隱藏變數監視器</span>
                    <div class="block events">廣播 <span class="arg">重置</span></div> <span class="comment">// 讓各角色就位（可選）</span>
                </div>

                <div class="blocks">
                    <div class="block events hat">當按下 <span class="arg">空白鍵</span></div>
                    <div class="block looks">切換背景到 <span class="arg">遊戲畫面</span></div>
                    <div class="block looks">顯示 <span class="arg">分數顯示器</span></div>
                    <div class="block events">廣播 <span class="arg">開始</span></div> <span class="comment">// 開始遊戲（球定位、磚塊生成等）</span>
                </div>
            </div>

            <h3>🏓 (B) 球拍：滑鼠左右移動</h3>
            <div class="step">
                <h4>球拍控制程式</h4>
                <div class="blocks">
                    <div class="block events hat">當 <span class="arg">綠旗</span> 被點擊</div>
                    <div class="block looks">隱藏</div>
                </div>

                <div class="blocks">
                    <div class="block events hat">當接收到 <span class="arg">開始</span></div>
                    <div class="block looks">顯示</div>
                    <div class="block control c-block">重複無限次
                        <div class="substack">
                            <div class="block motion">將 x 設為 <span class="arg">滑鼠 x</span></div>
                            <div class="block motion">將 y 設為 <span class="arg">-150</span></div> <span class="comment">// 視造型與舞台大小調整</span>
                            <div class="block control">如果 <span class="block operators"><span class="arg">x</span> > <span class="arg">220</span></span>
                                <div class="substack">
                                    <div class="block motion">將 x 設為 <span class="arg">220</span></div>
                                </div>
                            </div>
                            <div class="block control">如果 <span class="block operators"><span class="arg">x</span> < <span class="arg">-220</span></span>
                                <div class="substack">
                                    <div class="block motion">將 x 設為 <span class="arg">-220</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <h3>⚽ (C) 球：定位、發球、移動、反彈</h3>
            <div class="step">
                <h4>球的完整控制程式</h4>
                <div class="blocks">
                    <div class="block events hat">當 <span class="arg">綠旗</span> 被點擊</div>
                    <div class="block looks">隱藏</div>
                </div>

                <div class="blocks">
                    <div class="block events hat">當接收到 <span class="arg">開始</span></div>
                    <div class="block looks">顯示</div>
                    <div class="block variables">將 <span class="arg">速度</span> 設為 <span class="arg">20</span></div> <span class="comment">// 進階要求；若未做進階可忽略</span>
                    <div class="block looks">將造型設為 <span class="arg">預設球</span></div> <span class="comment">// 可選：重置造型</span>
                    <div class="block motion">將 x 設為 <span class="arg">0</span></div>
                    <div class="block motion">將 y 設為 <span class="arg">0</span></div>
                    <div class="block motion">面朝 <span class="block operators">在 <span class="arg">110</span> 到 <span class="arg">170</span> 之間取隨機數</span> 度</div>
                    <div class="block control">等待 <span class="arg">1</span> 秒</div>
                </div>

                <div class="blocks">
                    <div class="block control c-block">重複直到 <span class="block sensing">碰到 <span class="arg">停止線</span></span>
                        <div class="substack">
                            <div class="block motion">移動 <span class="arg">速度</span> 步</div>
                            <div class="block control">如果 <span class="block sensing">碰到邊緣</span>
                                <div class="substack">
                                    <div class="block motion">反彈</div>
                                </div>
                            </div>
                            <div class="block control">如果 <span class="block operators">碰到 <span class="arg">球拍</span> 或 碰到 <span class="arg">磚塊</span></span>
                                <div class="substack">
                                    <div class="comment">// 反射角：面朝 (180 - 方向) 並加入些微亂數</div>
                                    <div class="block motion">面朝 <span class="block operators"><span class="arg">180</span> - <span class="arg">方向</span></span> 度</div>
                                    <div class="block motion">右轉 <span class="block operators">在 <span class="arg">-10</span> 到 <span class="arg">10</span> 之間取隨機數</span> 度</div> <span class="comment">// 讓反彈角有變化</div>
                                </div>
                            </div>
                            <div class="comment">// 進階：當得分 > 10 → 速度 = 40</div>
                            <div class="block control">如果 <span class="block operators"><span class="arg">得分</span> > <span class="arg">10</span></span>
                                <div class="substack">
                                    <div class="block variables">將 <span class="arg">速度</span> 設為 <span class="arg">40</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="block looks">切換背景到 <span class="arg">闖關失敗</span></div>
                    <div class="block control">停止 <span class="arg">全部</span></div>
                </div>
            </div>

            <h3>🧱 (D) 磚塊（本尊＋分身）：生成、被擊中加分</h3>
            <div class="step">
                <h4>磚塊本尊：進場時隱藏、負責產生分身</h4>
                <div class="blocks">
                    <div class="block events hat">當 <span class="arg">綠旗</span> 被點擊</div>
                    <div class="block looks">隱藏</div>
                </div>

                <div class="blocks">
                    <div class="block events hat">當接收到 <span class="arg">開始</span></div>
                    <div class="block control">刪除所有分身</div>
                    <div class="comment">// 產生 32 塊（8×4）— 可用雙層迴圈</div>
                    <div class="block variables">將 <span class="arg">列</span> 設為 <span class="arg">1</span></div>
                    <div class="block control c-block">重複 <span class="arg">4</span> 次
                        <div class="substack">
                            <div class="block variables">將 <span class="arg">行</span> 設為 <span class="arg">1</span></div>
                            <div class="block control c-block">重複 <span class="arg">8</span> 次
                                <div class="substack">
                                    <div class="block control">建立分身</div>
                                    <div class="block variables">行 改變 <span class="arg">1</span></div>
                                </div>
                            </div>
                            <div class="block variables">列 改變 <span class="arg">1</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="step">
                <h4>當分身產生：依列/行定位</h4>
                <div class="blocks">
                    <div class="block events hat">當分身被建立</div>
                    <div class="block looks">顯示</div>
                    <div class="block motion">將 x 設為 <span class="block operators"><span class="arg">-210</span> + <span class="block operators">(<span class="arg">行</span> - <span class="arg">1</span>) * <span class="arg">60</span></span></div> <span class="comment">// 間距依造型調整</span>
                    <div class="block motion">將 y 設為 <span class="block operators"><span class="arg">100</span> - <span class="block operators">(<span class="arg">列</span> - <span class="arg">1</span>) * <span class="arg">30</span></span></div> <span class="comment">// 列距依造型調整</span>
                    <div class="block control c-block">重複無限次
                        <div class="substack">
                            <div class="block control">如果 <span class="block sensing">碰到 <span class="arg">球</span></span>
                                <div class="substack">
                                    <div class="block variables">得分 改變 <span class="arg">1</span></div>
                                    <div class="block control">刪除分身</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <h3>🏆 (E) 過關判斷（舞台或球內皆可）</h3>
            <div class="step">
                <h4>過關條件檢測</h4>
                <div class="blocks">
                    <div class="block control c-block">重複無限次
                        <div class="substack">
                            <div class="block control">如果 <span class="block operators"><span class="arg">得分</span> = <span class="arg">32</span></span>
                                <div class="substack">
                                    <div class="block looks">切換背景到 <span class="arg">闖關成功</span></div>
                                    <div class="block control">停止 <span class="arg">全部</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <h3>👁️ (F) 角色顯示/隱藏規則</h3>
            <div class="step">
                <h4>顯示控制邏輯</h4>
                <div class="blocks">
                    <div class="block events hat">各角色 當 <span class="arg">綠旗</span> 被點擊</div>
                    <div class="block looks">隱藏</div>
                </div>

                <div class="blocks">
                    <div class="block events hat">各角色 當接收到 <span class="arg">開始</span></div>
                    <div class="block looks">顯示</div> <span class="comment">// 磚塊本尊除外，僅顯示分身</span>
                </div>
            </div>
        </div>

        <div id="reflection" class="chapter">
            <h2>📐 第五章：反射角教學重點</h2>

            <h3>🔬 反射角物理概念</h3>
            <div class="reflection-demo">
                <h4>反射角公式</h4>
                <div class="angle-formula">
                    反射角 = 180° - 入射角（方向）
                </div>
                <p>在Scratch中：<strong>面朝 (180 - 方向) 度</strong></p>
            </div>

            <h3>📊 符號說明</h3>
            <div class="step">
                <h4>角度表示法</h4>
                <ul>
                    <li><strong>θ（theta）：</strong>代表入射角</li>
                    <li><strong>在Scratch中：</strong>以「方向（度）」表示</li>
                    <li><strong>規則：</strong>反射角 = 180° - 入射角（方向）</li>
                </ul>
            </div>

            <h3>⚙️ 實作技巧</h3>
            <div class="step">
                <h4>避免死循環的技巧</h4>
                <ul>
                    <li><strong>基本反射：</strong>面朝 (180 - 方向) 度</li>
                    <li><strong>加入隨機：</strong>右轉 (隨機取數 -10 到 10) 度</li>
                    <li><strong>目的：</strong>避免球直上直下無窮回彈</li>
                </ul>
            </div>

            <div class="success">
                <strong>💡 實作建議：</strong>建議再加上±10°亂數避免死循環，讓反彈角度有變化，增加遊戲的趣味性。
            </div>
        </div>

        <div id="challenges" class="chapter">
            <h2>🚀 第六章：進階挑戰與評量</h2>

            <h3>🎯 基本挑戰項目</h3>
            <div class="step">
                <h4>1. 個人識別</h4>
                <p>在舞台背景加入自己的班級、座號、姓名</p>
            </div>

            <div class="step">
                <h4>2. 32塊磚排版</h4>
                <p>完成8×4版面與座標微調，達32分自動過關</p>
            </div>

            <div class="step">
                <h4>3. 速度控制</h4>
                <p>新增「速度」變數；>10分改為40</p>
            </div>

            <h3>🧠 高手思考題</h3>
            <div class="step">
                <h4>設計「闖三關打磚塊」</h4>
                <p>思考每關差異：</p>
                <ul>
                    <li><strong>速度：</strong>每關球速不同</li>
                    <li><strong>磚排列：</strong>不同的磚塊排列模式</li>
                    <li><strong>球拍寬度：</strong>可調整的球拍大小</li>
                    <li><strong>可用次數：</strong>生命值系統</li>
                </ul>
            </div>

            <h3>📊 評量標準</h3>
            <table>
                <tr>
                    <th>評分項目</th>
                    <th>配分</th>
                    <th>評分重點</th>
                </tr>
                <tr>
                    <td>基本功能</td>
                    <td>40%</td>
                    <td>球拍控制、球體運動、碰撞偵測</td>
                </tr>
                <tr>
                    <td>反射角實作</td>
                    <td>25%</td>
                    <td>物理反彈邏輯正確性</td>
                </tr>
                <tr>
                    <td>32塊磚排版</td>
                    <td>20%</td>
                    <td>8×4排列和座標計算</td>
                </tr>
                <tr>
                    <td>進階功能</td>
                    <td>15%</td>
                    <td>速度控制、關卡設計</td>
                </tr>
            </table>
        </div>

        <div id="homework" class="homework">
            <h2>📝 第七章：作業設計與學習評量</h2>

            <h3>🎯 基礎作業</h3>
            <div class="homework-item">
                <h4>作業一：基本打磚塊進階版 (70分)</h4>
                <ul>
                    <li>完成球拍跟隨滑鼠移動</li>
                    <li>實作球的物理反彈系統</li>
                    <li>建立32塊磚的8×4排版</li>
                    <li>加入計分和過關判斷</li>
                    <li>實現角色顯示/隱藏控制</li>
                </ul>
            </div>

            <div class="homework-item">
                <h4>作業二：進階功能實作 (85分)</h4>
                <ul>
                    <li>在基礎作業基礎上增加：</li>
                    <li>速度控制系統（得分>10時加速）</li>
                    <li>反射角物理實作（避免死循環）</li>
                    <li>個人資訊顯示</li>
                    <li>遊戲狀態管理</li>
                </ul>
            </div>

            <h3>🌟 創意挑戰</h3>
            <div class="homework-item">
                <h4>挑戰一：多關卡設計 (100分)</h4>
                <ul>
                    <li>設計3個不同難度的關卡</li>
                    <li>每關有不同的磚塊排列</li>
                    <li>實現關卡選擇系統</li>
                    <li>加入關卡間轉場效果</li>
                </ul>
            </div>

            <div class="homework-item">
                <h4>挑戰二：物理系統優化</h4>
                <ul>
                    <li>實現更真實的物理反彈</li>
                    <li>加入重力和摩擦力效果</li>
                    <li>設計特殊磚塊類型</li>
                    <li>加入粒子爆炸效果</li>
                </ul>
            </div>

            <h3>📤 繳交流程</h3>
            <div class="step">
                <h4>繳交步驟</h4>
                <ol>
                    <li>立刻儲存並<strong>確認檔名</strong>（如81760-5b.sb3）</li>
                    <li>分享以後複製連結</li>
                    <li>上傳至Classroom作業區並完成「已繳交」</li>
                </ol>
            </div>

            <div class="warning">
                <strong>⚠️ 評分提醒：</strong>檔名錯誤（如81760-X(1).sb3）將扣5分！請務必按照正確格式命名。
            </div>
        </div>

        <div class="footer">
            <p>© 2024 銘傳資科 - Scratch 程式設計課程</p>
            <p>打磚塊遊戲2（進階版）- 反彈角度、得分/過關、角色顯示/隱藏、速度控制</p>
        </div>
    </div>

    <a href="#" class="back-to-top" onclick="scrollToTop(); return false;">⬆️ 回到頂部</a>

    <script>
        // 平滑滾動到錨點
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // 回到頂部功能
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // 顯示/隱藏回到頂部按鈕
        window.addEventListener('scroll', function() {
            const backToTop = document.querySelector('.back-to-top');
            if (window.scrollY > 300) {
                if (backToTop) backToTop.style.display = 'block';
            } else {
                if (backToTop) backToTop.style.display = 'none';
            }
        });
    </script>
</body>
</html>